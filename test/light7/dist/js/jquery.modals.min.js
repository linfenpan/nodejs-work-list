!function(o){"use strict";o.fn.transitionEnd=function(o){function e(l){if(l.target===this)for(o.call(this,l),t=0;t<a.length;t++)n.off(a[t],e)}var t,a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=this;if(o)for(t=0;t<a.length;t++)n.on(a[t],e);return this},o.fn.dataset=function(){var e=this[0];if(e){var t={};if(e.dataset)for(var a in e.dataset)t[a]=e.dataset[a];else for(var n=0;n<e.attributes.length;n++){var l=e.attributes[n];l.name.indexOf("data-")>=0&&(t[o.toCamelCase(l.name.split("data-")[1])]=l.value)}for(var s in t)"false"===t[s]?t[s]=!1:"true"===t[s]?t[s]=!0:parseFloat(t[s])===1*t[s]&&(t[s]=1*t[s]);return t}}}($),+function(o){"use strict";function e(e){var t=o(this),a=(t.attr("href"),t.dataset());if(t.hasClass("open-popover")){var l;l=a.popover?a.popover:".popover",o.popover(l,t)}t.hasClass("close-popover")&&o.closeModal(".popover.modal-in");var s;t.hasClass("open-popup")&&(s=a.popup?a.popup:".popup",o.popup(s)),t.hasClass("close-popup")&&(s=a.popup?a.popup:".popup.modal-in",o.closeModal(s)),t.hasClass("modal-overlay")&&(o(".modal.modal-in").length>0&&n.modalCloseByOutside&&o.closeModal(".modal.modal-in"),o(".actions-modal.modal-in").length>0&&n.actionsCloseByOutside&&o.closeModal(".actions-modal.modal-in"),o(".popover.modal-in").length>0&&o.closeModal(".popover.modal-in")),t.hasClass("popup-overlay")&&o(".popup.modal-in").length>0&&n.popupCloseByOutside&&o.closeModal(".popup.modal-in")}var t=document.createElement("div"),a={CONFIRM:"confirm",CANCEL:"cancel"};o.modalStack=[];o.Template7;o.modalStackClearQueue=function(){o.modalStack.length&&o.modalStack.shift()()},o.modal=function(e){e=e||{};var a="",l="";if(e.buttons&&e.buttons.length>0)for(var s=0;s<e.buttons.length;s++)l+='<span class="modal-button'+(e.buttons[s].bold?" modal-button-bold":"")+'">'+e.buttons[s].text+"</span>";var d=e.title?'<div class="modal-title">'+e.title+"</div>":"",i=e.text?'<div class="modal-text">'+e.text+"</div>":"",r=e.afterText?e.afterText:"",p=e.className?e.className+" ":"",m=e.buttons&&0!==e.buttons.length?"":"modal-no-buttons",c=e.verticalButtons?"modal-buttons-vertical":"";a='<div class="modal '+p+m+'"><div class="modal-inner">'+(d+i+r)+'</div><div class="modal-buttons '+c+'">'+l+"</div></div>",t.innerHTML=a;var u=o(t).children();return o(n.modalContainer).append(u[0]),u.find(".modal-button").each(function(t,a){o(a).on("click",function(a){e.buttons[t].close!==!1&&o.closeModal(u),e.buttons[t].onClick&&e.buttons[t].onClick(u,a),e.buttons[t].event&&u.trigger(e.buttons[t].event,[u]),e.onClick&&e.onClick(u,t)})}),o.openModal(u),u},o.alert=function(e,t,l){return"function"==typeof t&&(l=arguments[1],t=void 0),o.modal({text:e||"",title:"undefined"==typeof t?n.modalTitle:t,buttons:[{text:n.modalButtonOk,bold:!0,event:a.CONFIRM,onClick:l}]})},o.confirm=function(e,t,l,s){return"function"==typeof t&&(s=arguments[2],l=arguments[1],t=void 0),o.modal({text:e||"",title:"undefined"==typeof t?n.modalTitle:t,buttons:[{text:n.modalButtonCancel,onClick:s,event:a.CANCEL},{text:n.modalButtonOk,bold:!0,onClick:l,event:a.CONFIRM}]})},o.prompt=function(e,t,l,s){return"function"==typeof t&&(s=arguments[2],l=arguments[1],t=void 0),o.modal({text:e||"",title:"undefined"==typeof t?n.modalTitle:t,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:n.modalButtonCancel},{text:n.modalButtonOk,bold:!0}],onClick:function(e,t){var n="",d=o(e),i=d.find(".modal-text-input").val();0===t&&(s&&s(i),n=a.CANCEL),1===t&&(l&&l(i),n=a.CONFIRM),n&&d.trigger(n,[e,i])}})},o.showPreloader=function(e){return o.modal({title:e||n.modalPreloaderTitle,text:'<div class="preloader"></div>'})},o.hidePreloader=function(){o.closeModal(".modal.modal-in")},o.showIndicator=function(){o(n.modalContainer).append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},o.hideIndicator=function(){o(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},o.popover=function(e,t,a){function l(){e.css({left:"",top:""});var a,n,l=e.width(),s=e.height(),d=e.find(".popover-angle"),i=d.width()/2;d.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""});var r=t.outerWidth(),p=t.outerHeight(),m=t.offset(),c=t.parents(".page");c.length>0&&(m.top=m.top-c[0].scrollTop);var u=o(window).height(),v=o(window).width(),f=0,h=0,C=0,g="top";s+i<m.top?f=m.top-s-i:s+i<u-m.top-p?(g="bottom",f=m.top+p+i):(g="middle",f=p/2+m.top-s/2,C=f,f<0?f=5:f+s>u&&(f=u-s-5),C-=f),"top"===g||"bottom"===g?(h=r/2+m.left-l/2,C=h,h<5&&(h=5),h+l>v&&(h=v-l-5),"top"===g&&d.addClass("on-bottom"),"bottom"===g&&d.addClass("on-top"),C-=h,a=l/2-i+C,a=Math.max(Math.min(a,l-2*i-6),6),d.css({left:a+"px"})):"middle"===g&&(h=m.left-l-i,d.addClass("on-right"),h<5&&(h=m.left+r+i,d.removeClass("on-right").addClass("on-left")),h+l>v&&(h=v-l-5,d.removeClass("on-right").addClass("on-left")),n=s/2-i+C,n=Math.max(Math.min(n,s-2*i-6),6),d.css({top:n+"px"})),e.css({top:f+"px",left:h+"px"})}if("undefined"==typeof a&&(a=!0),"string"==typeof e&&e.indexOf("<")>=0){var s=document.createElement("div");if(s.innerHTML=e.trim(),!(s.childNodes.length>0))return!1;e=s.childNodes[0],a&&e.classList.add("remove-on-close"),o(n.modalContainer).append(e)}return e=o(e),t=o(t),0!==e.length&&0!==t.length&&(0===e.find(".popover-angle").length&&e.append('<div class="popover-angle"></div>'),e.show(),l(),o(window).on("resize",l),e.on("close",function(){o(window).off("resize",l)}),e.find("."+n.viewClass).length>0&&o.sizeNavbars(e.find("."+n.viewClass)[0]),o.openModal(e),e[0])},o.popup=function(e,t){if("undefined"==typeof t&&(t=!0),"string"==typeof e&&e.indexOf("<")>=0){var a=document.createElement("div");if(a.innerHTML=e.trim(),!(a.childNodes.length>0))return!1;e=a.childNodes[0],t&&e.classList.add("remove-on-close"),o(n.modalContainer).append(e)}return e=o(e),0!==e.length&&(e.show(),e.find("."+n.viewClass).length>0&&o.sizeNavbars(e.find("."+n.viewClass)[0]),o.openModal(e),e[0])},o.toast=function(e,t){var a=o("<div class='modal toast'>"+e+"</div>").appendTo(document.body);o.openModal(a),setTimeout(function(){o.closeModal(a)},t||2e3)},o.openModal=function(e){n.closePrevious&&o.closeModal(),e=o(e);var t=e.hasClass("modal");if(o(".modal.modal-in:not(.modal-out)").length&&n.modalStack&&t)return void o.modalStack.push(function(){o.openModal(e)});var a=(e.hasClass("popover"),e.hasClass("popup")),l=e.hasClass("login-screen"),s=e.hasClass("picker-modal"),d=e.hasClass("toast");t&&(e.show(),e.css({marginTop:-Math.round(e.outerHeight()/2)+"px",marginLeft:-Math.round(e.outerWidth()/2)+"px"})),d&&(e.show(),e.css({marginLeft:-Math.round(parseInt(window.getComputedStyle(e[0]).width)/2)+"px"}));var i;l||s||d||(0!==o(".modal-overlay").length||a||o(n.modalContainer).append('<div class="modal-overlay"></div>'),0===o(".popup-overlay").length&&a&&o(n.modalContainer).append('<div class="popup-overlay"></div>'),i=o(a?".popup-overlay":".modal-overlay"));e[0].clientLeft;return e.trigger("open"),s&&o(n.modalContainer).addClass("with-picker-modal"),l||s||d||i.addClass("modal-overlay-visible"),e.removeClass("modal-out").addClass("modal-in").transitionEnd(function(o){e.hasClass("modal-out")?e.trigger("closed"):e.trigger("opened")}),!0},o.closeModal=function(e){if(e=o(e||".modal-in"),"undefined"==typeof e||0!==e.length){var t=e.hasClass("modal"),a=e.hasClass("popover"),l=e.hasClass("popup"),s=e.hasClass("login-screen"),d=e.hasClass("picker-modal"),i=e.hasClass("remove-on-close"),r=o(l?".popup-overlay":".modal-overlay");return l?e.length===o(".popup.modal-in").length&&r.removeClass("modal-overlay-visible"):d||r.removeClass("modal-overlay-visible"),e.trigger("close"),d&&(o(n.modalContainer).removeClass("with-picker-modal"),o(n.modalContainer).addClass("picker-modal-closing")),a?(e.removeClass("modal-in modal-out").trigger("closed").hide(),i&&e.remove()):(e.removeClass("modal-in").addClass("modal-out").transitionEnd(function(t){e.hasClass("modal-out")?e.trigger("closed"):e.trigger("opened"),d&&o(n.modalContainer).removeClass("picker-modal-closing"),l||s||d?(e.removeClass("modal-out").hide(),i&&e.length>0&&e.remove()):e.remove()}),t&&n.modalStack&&o.modalStackClearQueue()),!0}};var n=o.modal.prototype.defaults={modalButtonOk:"确定",modalButtonCancel:"取消",modalPreloaderTitle:"Loading...",modalContainer:document.body,modalCloseByOutside:!0,actionsCloseByOutside:!1,popupCloseByOutside:!0,closePrevious:!0};o(function(){o(document).on("click"," .modal-overlay, .popup-overlay, .close-popup, .open-popup, .open-popover, .close-popover, .close-picker",e),n.modalContainer=n.modalContainer||document.body})}($);