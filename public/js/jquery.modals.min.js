!function(o){"use strict";o.fn.transitionEnd=function(o){function e(n){if(n.target===this)for(o.call(this,n),t=0;t<a.length;t++)l.off(a[t],e)}var t,a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],l=this;if(o)for(t=0;t<a.length;t++)l.on(a[t],e);return this},o.fn.dataset=function(){var e=this[0];if(e){var t={};if(e.dataset)for(var a in e.dataset)t[a]=e.dataset[a];else for(var l=0;l<e.attributes.length;l++){var n=e.attributes[l];n.name.indexOf("data-")>=0&&(t[o.toCamelCase(n.name.split("data-")[1])]=n.value)}for(var d in t)"false"===t[d]?t[d]=!1:"true"===t[d]?t[d]=!0:parseFloat(t[d])===1*t[d]&&(t[d]=1*t[d]);return t}}}($),+function(o){"use strict";function e(e){var t=o(this),l=(t.attr("href"),t.dataset());if(t.hasClass("open-popover")){var n;n=l.popover?l.popover:".popover",o.popover(n,t)}t.hasClass("close-popover")&&o.closeModal(".popover.modal-in");var d;t.hasClass("open-popup")&&(d=l.popup?l.popup:".popup",o.popup(d)),t.hasClass("close-popup")&&(d=l.popup?l.popup:".popup.modal-in",o.closeModal(d)),t.hasClass("modal-overlay")&&(o(".modal.modal-in").length>0&&a.modalCloseByOutside&&o.closeModal(".modal.modal-in"),o(".actions-modal.modal-in").length>0&&a.actionsCloseByOutside&&o.closeModal(".actions-modal.modal-in"),o(".popover.modal-in").length>0&&o.closeModal(".popover.modal-in")),t.hasClass("popup-overlay")&&o(".popup.modal-in").length>0&&a.popupCloseByOutside&&o.closeModal(".popup.modal-in")}var t=document.createElement("div");o.modalStack=[];o.Template7;o.modalStackClearQueue=function(){o.modalStack.length&&o.modalStack.shift()()},o.modal=function(e){e=e||{};var l="",n="";if(e.buttons&&e.buttons.length>0)for(var d=0;d<e.buttons.length;d++)n+='<span class="modal-button'+(e.buttons[d].bold?" modal-button-bold":"")+'">'+e.buttons[d].text+"</span>";var s=e.title?'<div class="modal-title">'+e.title+"</div>":"",i=e.text?'<div class="modal-text">'+e.text+"</div>":"",r=e.afterText?e.afterText:"",p=e.className?e.className+" ":"",m=e.buttons&&0!==e.buttons.length?"":"modal-no-buttons",c=e.verticalButtons?"modal-buttons-vertical":"";l='<div class="modal '+p+m+'"><div class="modal-inner">'+(s+i+r)+'</div><div class="modal-buttons '+c+'">'+n+"</div></div>",t.innerHTML=l;var u=o(t).children();return o(a.modalContainer).append(u[0]),u.find(".modal-button").each(function(t,a){o(a).on("click",function(a){e.buttons[t].close!==!1&&o.closeModal(u),e.buttons[t].onClick&&e.buttons[t].onClick(u,a),e.onClick&&e.onClick(u,t)})}),o.openModal(u),u[0]},o.alert=function(e,t,l){return"function"==typeof t&&(l=arguments[1],t=void 0),o.modal({text:e||"",title:"undefined"==typeof t?a.modalTitle:t,buttons:[{text:a.modalButtonOk,bold:!0,onClick:l}]})},o.confirm=function(e,t,l,n){return"function"==typeof t&&(n=arguments[2],l=arguments[1],t=void 0),o.modal({text:e||"",title:"undefined"==typeof t?a.modalTitle:t,buttons:[{text:a.modalButtonCancel,onClick:n},{text:a.modalButtonOk,bold:!0,onClick:l}]})},o.prompt=function(e,t,l,n){return"function"==typeof t&&(n=arguments[2],l=arguments[1],t=void 0),o.modal({text:e||"",title:"undefined"==typeof t?a.modalTitle:t,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:a.modalButtonCancel},{text:a.modalButtonOk,bold:!0}],onClick:function(e,t){0===t&&n&&n(o(e).find(".modal-text-input").val()),1===t&&l&&l(o(e).find(".modal-text-input").val())}})},o.showPreloader=function(e){return o.modal({title:e||a.modalPreloaderTitle,text:'<div class="preloader"></div>'})},o.hidePreloader=function(){o.closeModal(".modal.modal-in")},o.showIndicator=function(){o(a.modalContainer).append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},o.hideIndicator=function(){o(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},o.popover=function(e,t,l){function n(){e.css({left:"",top:""});var a,l,n=e.width(),d=e.height(),s=e.find(".popover-angle"),i=s.width()/2;s.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""});var r=t.outerWidth(),p=t.outerHeight(),m=t.offset(),c=t.parents(".page");c.length>0&&(m.top=m.top-c[0].scrollTop);var u=o(window).height(),v=o(window).width(),f=0,h=0,C=0,g="top";d+i<m.top?f=m.top-d-i:d+i<u-m.top-p?(g="bottom",f=m.top+p+i):(g="middle",f=p/2+m.top-d/2,C=f,f<0?f=5:f+d>u&&(f=u-d-5),C-=f),"top"===g||"bottom"===g?(h=r/2+m.left-n/2,C=h,h<5&&(h=5),h+n>v&&(h=v-n-5),"top"===g&&s.addClass("on-bottom"),"bottom"===g&&s.addClass("on-top"),C-=h,a=n/2-i+C,a=Math.max(Math.min(a,n-2*i-6),6),s.css({left:a+"px"})):"middle"===g&&(h=m.left-n-i,s.addClass("on-right"),h<5&&(h=m.left+r+i,s.removeClass("on-right").addClass("on-left")),h+n>v&&(h=v-n-5,s.removeClass("on-right").addClass("on-left")),l=d/2-i+C,l=Math.max(Math.min(l,d-2*i-6),6),s.css({top:l+"px"})),e.css({top:f+"px",left:h+"px"})}if("undefined"==typeof l&&(l=!0),"string"==typeof e&&e.indexOf("<")>=0){var d=document.createElement("div");if(d.innerHTML=e.trim(),!(d.childNodes.length>0))return!1;e=d.childNodes[0],l&&e.classList.add("remove-on-close"),o(a.modalContainer).append(e)}return e=o(e),t=o(t),0!==e.length&&0!==t.length&&(0===e.find(".popover-angle").length&&e.append('<div class="popover-angle"></div>'),e.show(),n(),o(window).on("resize",n),e.on("close",function(){o(window).off("resize",n)}),e.find("."+a.viewClass).length>0&&o.sizeNavbars(e.find("."+a.viewClass)[0]),o.openModal(e),e[0])},o.popup=function(e,t){if("undefined"==typeof t&&(t=!0),"string"==typeof e&&e.indexOf("<")>=0){var l=document.createElement("div");if(l.innerHTML=e.trim(),!(l.childNodes.length>0))return!1;e=l.childNodes[0],t&&e.classList.add("remove-on-close"),o(a.modalContainer).append(e)}return e=o(e),0!==e.length&&(e.show(),e.find("."+a.viewClass).length>0&&o.sizeNavbars(e.find("."+a.viewClass)[0]),o.openModal(e),e[0])},o.toast=function(e,t){var a=o("<div class='modal toast'>"+e+"</div>").appendTo(document.body);o.openModal(a),setTimeout(function(){o.closeModal(a)},t||2e3)},o.openModal=function(e){a.closePrevious&&o.closeModal(),e=o(e);var t=e.hasClass("modal");if(o(".modal.modal-in:not(.modal-out)").length&&a.modalStack&&t)return void o.modalStack.push(function(){o.openModal(e)});var l=(e.hasClass("popover"),e.hasClass("popup")),n=e.hasClass("login-screen"),d=e.hasClass("picker-modal"),s=e.hasClass("toast");t&&(e.show(),e.css({marginTop:-Math.round(e.outerHeight()/2)+"px",marginLeft:-Math.round(e.outerWidth()/2)+"px"})),s&&(e.show(),e.css({marginLeft:-Math.round(parseInt(window.getComputedStyle(e[0]).width)/2)+"px"}));var i;n||d||s||(0!==o(".modal-overlay").length||l||o(a.modalContainer).append('<div class="modal-overlay"></div>'),0===o(".popup-overlay").length&&l&&o(a.modalContainer).append('<div class="popup-overlay"></div>'),i=o(l?".popup-overlay":".modal-overlay"));e[0].clientLeft;return e.trigger("open"),d&&o(a.modalContainer).addClass("with-picker-modal"),n||d||s||i.addClass("modal-overlay-visible"),e.removeClass("modal-out").addClass("modal-in").transitionEnd(function(o){e.hasClass("modal-out")?e.trigger("closed"):e.trigger("opened")}),!0},o.closeModal=function(e){if(e=o(e||".modal-in"),"undefined"==typeof e||0!==e.length){var t=e.hasClass("modal"),l=e.hasClass("popover"),n=e.hasClass("popup"),d=e.hasClass("login-screen"),s=e.hasClass("picker-modal"),i=e.hasClass("remove-on-close"),r=o(n?".popup-overlay":".modal-overlay");return n?e.length===o(".popup.modal-in").length&&r.removeClass("modal-overlay-visible"):s||r.removeClass("modal-overlay-visible"),e.trigger("close"),s&&(o(a.modalContainer).removeClass("with-picker-modal"),o(a.modalContainer).addClass("picker-modal-closing")),l?(e.removeClass("modal-in modal-out").trigger("closed").hide(),i&&e.remove()):(e.removeClass("modal-in").addClass("modal-out").transitionEnd(function(t){e.hasClass("modal-out")?e.trigger("closed"):e.trigger("opened"),s&&o(a.modalContainer).removeClass("picker-modal-closing"),n||d||s?(e.removeClass("modal-out").hide(),i&&e.length>0&&e.remove()):e.remove()}),t&&a.modalStack&&o.modalStackClearQueue()),!0}};var a=o.modal.prototype.defaults={modalButtonOk:"确定",modalButtonCancel:"取消",modalPreloaderTitle:"Loading...",modalContainer:document.body,modalCloseByOutside:!0,actionsCloseByOutside:!1,popupCloseByOutside:!0,closePrevious:!0};o(function(){o(document).on("click"," .modal-overlay, .popup-overlay, .close-popup, .open-popup, .open-popover, .close-popover, .close-picker",e),a.modalContainer=a.modalContainer||document.body})}($);